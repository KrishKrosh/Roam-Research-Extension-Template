"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const axios_1 = tslib_1.__importDefault(require("axios"));
const getAuthorizationHeader_1 = tslib_1.__importDefault(require("../util/getAuthorizationHeader"));
const apiPost = (path, data) => axios_1.default
    .post(`${process.env.API_URL}/${path}`, data || {}, {
    headers: { Authorization: (0, getAuthorizationHeader_1.default)() },
})
    .catch((e) => {
    var _a, _b;
    return Promise.reject(new Error(typeof ((_a = e.response) === null || _a === void 0 ? void 0 : _a.data) === "object"
        ? e.response.data.message || JSON.stringify(e.response.data)
        : ((_b = e.response) === null || _b === void 0 ? void 0 : _b.data) || e.message));
});
exports.default = apiPost;
//# sourceMappingURL=apiPost.js.map