"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const react_1 = require("react");
const localStorageGet_1 = tslib_1.__importDefault(require("../util/localStorageGet"));
const localStorageRemove_1 = tslib_1.__importDefault(require("../util/localStorageRemove"));
const localStorageSet_1 = tslib_1.__importDefault(require("../util/localStorageSet"));
const useExperimentalMode = () => {
    const [experimentalMode, setExperimentalMode] = (0, react_1.useState)(!!(0, localStorageGet_1.default)("experimental"));
    const listener = (0, react_1.useCallback)((e) => {
        if (e.ctrlKey &&
            e.metaKey &&
            e.shiftKey &&
            e.altKey &&
            (e.key === "M" || e.key === "KeyM")) {
            const newVal = !(0, localStorageGet_1.default)("experimental");
            setExperimentalMode(newVal);
            if (newVal)
                (0, localStorageSet_1.default)("experimental", "true");
            else
                (0, localStorageRemove_1.default)("experimental");
            e.preventDefault();
            e.stopPropagation();
        }
    }, [setExperimentalMode]);
    return { experimentalMode, listener };
};
exports.default = useExperimentalMode;
//# sourceMappingURL=useExperimentalMode.js.map