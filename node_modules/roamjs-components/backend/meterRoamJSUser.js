"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const axios_1 = tslib_1.__importDefault(require("axios"));
const meterRoamJSUser = (user, quantity = 1, extensionId = process.env.ROAMJS_EXTENSION_ID || "", email = process.env.ROAMJS_EMAIL, dev = process.env.NODE_ENV === "development") => axios_1.default
    .post(`https://lambda.roamjs.com/meter`, Object.assign(Object.assign({}, (user.startsWith("user_") ? { id: user } : { email: user })), { quantity }), {
    headers: Object.assign({ Authorization: `Bearer ${Buffer.from(`${email}:${process.env.ROAMJS_DEVELOPER_TOKEN}`).toString("base64")}`, "x-roamjs-extension": extensionId }, (dev
        ? {
            "x-roamjs-dev": "true",
        }
        : {})),
})
    .then((r) => r.data);
exports.default = meterRoamJSUser;
//# sourceMappingURL=meterRoamJSUser.js.map